# Changelog

## 1.0.0-alpha.0 (2024-02-07)


### Features

* add /status endpoint for versioning ([f960923](https://github.com/aasseman/indexer-rs/commit/f9609230d8fa80cfb69f6c3eaa166dd782256fe5))
* add cli usages ([0656238](https://github.com/aasseman/indexer-rs/commit/0656238c7c480763d5bb1c231c1ce270c7af0400))
* add CORS ([0fb33f8](https://github.com/aasseman/indexer-rs/commit/0fb33f8f7092f5d018721013f3fd055e6bc87c4d))
* add deployment health server route ([610f202](https://github.com/aasseman/indexer-rs/commit/610f2028b6327071938ec99e9d4b82bd70feed59))
* add dispute manager eventual ([5ee3d86](https://github.com/aasseman/indexer-rs/commit/5ee3d86f5454a9252bd7dc8aff34517d8eb3a824))
* add serving /network and /escrow subgraphs back in ([54ccca6](https://github.com/aasseman/indexer-rs/commit/54ccca6ff9facd42f7b7097f7d42ac5d7e175c8c))
* AllocationMonitor ([#35](https://github.com/aasseman/indexer-rs/issues/35)) ([86105e5](https://github.com/aasseman/indexer-rs/commit/86105e52356b88308730e04439f981a7949beada))
* attestation signers added to allocation monitor ([286d7f1](https://github.com/aasseman/indexer-rs/commit/286d7f108bf055da5f53d3c1194b0466c3b58558))
* basic indexer service metrics ([ddaf3ea](https://github.com/aasseman/indexer-rs/commit/ddaf3eacfe3e889570eb3bf04da32caf21a6fdc5))
* cli for start up configs ([70f07bc](https://github.com/aasseman/indexer-rs/commit/70f07bc57d0505f2502cbbe530a420b455d840ef))
* cost server routes graphql cost model queries ([6bd1aff](https://github.com/aasseman/indexer-rs/commit/6bd1affa244afddc4d28e210c813aa5388ebb1f6))
* global cost model fallback and tests ([d2d6340](https://github.com/aasseman/indexer-rs/commit/d2d63408df25c38a1f7911e29446a5e5406562ec))
* implement /version endpoint in http indexer service ([f96cd9c](https://github.com/aasseman/indexer-rs/commit/f96cd9c0a4cafb5efe508b0aab8688ccc3b7255a))
* import native and add verifier struct ([fd84e3a](https://github.com/aasseman/indexer-rs/commit/fd84e3a7368034b655d851100f06c8aaa6c96983))
* limit functions exposed in indexing status API ([50fb34e](https://github.com/aasseman/indexer-rs/commit/50fb34e7e349d127b1e643456f416e8fe4b3a0ef))
* network_query w/ gql and vars ([32dda65](https://github.com/aasseman/indexer-rs/commit/32dda652d116fa750e0f2c9f1691759d95a31b79))
* Paid query flow (partial impl) ([b9cf264](https://github.com/aasseman/indexer-rs/commit/b9cf264c2398326c14f46689cbc62bac714a80e6))
* record queries metrics ([54658f3](https://github.com/aasseman/indexer-rs/commit/54658f32415ce662e76c7eb7cc7685b510a59b70))
* res and req header value extract and append ([5e43416](https://github.com/aasseman/indexer-rs/commit/5e434162a1e410248cd0cfe40ec2c2fee4b48c59))
* server logging middleware ([5d910c8](https://github.com/aasseman/indexer-rs/commit/5d910c86f665cb37acd75982406389540e8e4134))
* **service:** adopt the indexer service framework ([6b87ccb](https://github.com/aasseman/indexer-rs/commit/6b87ccb3e4ea1f4e4d89c78e3eb1817b2f374c6c))
* **service:** finish implementing the new subgraph service ([3d94c28](https://github.com/aasseman/indexer-rs/commit/3d94c2894d82ede62cecbd58c2312859b2611920))
* slow and network ratelimiter ([a8b474a](https://github.com/aasseman/indexer-rs/commit/a8b474a7a43dfef3f85160758902cf659d69dce5))
* status server ([4230db8](https://github.com/aasseman/indexer-rs/commit/4230db88febfa7dd4834e06adda8b9f6f4fff4b0))
* support prioritizing local subgraph if synced and healthy ([235693f](https://github.com/aasseman/indexer-rs/commit/235693f0529f3ec157aca2cea77b2f3c5a13c1eb))
* switch to axum, add constant paths for version, health, index, operator ([4d5abc7](https://github.com/aasseman/indexer-rs/commit/4d5abc71c6fb2da5bff83c0f61b24d9acaeca234))
* TAP Agent ([#83](https://github.com/aasseman/indexer-rs/issues/83)) ([d2fad80](https://github.com/aasseman/indexer-rs/commit/d2fad801a00d97acd5b88f87b806d58aaf6b2573))
* TAP receipts handling + Escrow monitor ([#47](https://github.com/aasseman/indexer-rs/issues/47)) ([dd605f3](https://github.com/aasseman/indexer-rs/commit/dd605f3c1f7577a8f72d8edc4af0b8f349e24320))
* update subgraph client to latest toolshed/graphql-http ([3c9d0e1](https://github.com/aasseman/indexer-rs/commit/3c9d0e17f6b39a445c1b22f65799a904651ea8cb))
* update tap, toolshed and ethers dependencies ([5ced9ed](https://github.com/aasseman/indexer-rs/commit/5ced9ed461e760f410d1c4394e6a64ea42012948))


### Bug Fixes

* **#57:** malformed indexing status response ([#58](https://github.com/aasseman/indexer-rs/issues/58)) ([cf21797](https://github.com/aasseman/indexer-rs/commit/cf21797abf63d9f0b02cf4af9ac61cc575a6aaa8))
* add 'Bearer ' prefix to supplied free query auth token ([f8b59c1](https://github.com/aasseman/indexer-rs/commit/f8b59c1228c87116d900702f9a201b24a56caf98))
* add config for receipts domain ([#82](https://github.com/aasseman/indexer-rs/issues/82)) ([1bd7650](https://github.com/aasseman/indexer-rs/commit/1bd76506ae669c66f696646a290c2fe5d052296c))
* add migration files without embedding to binaries ([12c7ef1](https://github.com/aasseman/indexer-rs/commit/12c7ef142705fde34ccdeef6c6a0c7171d7ca880))
* Add missing /cost GraphQL API back ([cc960b5](https://github.com/aasseman/indexer-rs/commit/cc960b5c568c791d67970c36ea315fe66ed3ccf2))
* add missing license headers ([6ffa0e7](https://github.com/aasseman/indexer-rs/commit/6ffa0e7c6fc654687450e68d649eef120f1a7a87))
* clean up changes and better comments ([d8bd900](https://github.com/aasseman/indexer-rs/commit/d8bd900b14147d23ccbfe56326acf22a3366c0f6))
* correct cost model query logic, better typing ([490f86f](https://github.com/aasseman/indexer-rs/commit/490f86f3d8ae5a43b2602c4dd082fcdcb55c52e1))
* g-n-status-endpoint for DpmtDetail status_url ([7e3595b](https://github.com/aasseman/indexer-rs/commit/7e3595b4543b3737f1a42c3b4b014946f18f68e2))
* graph node instance ([#30](https://github.com/aasseman/indexer-rs/issues/30)) ([4bfd72c](https://github.com/aasseman/indexer-rs/commit/4bfd72c271f327b57d443751c111f8444dbc4ac8))
* handle network subgraph query errors better ([513d1ad](https://github.com/aasseman/indexer-rs/commit/513d1ad873fcf2f8f8fce4f390d732bbebf22168))
* health server - rm attestable header, add SubgraphHealth enum ([7d3e2fd](https://github.com/aasseman/indexer-rs/commit/7d3e2fdab587d0ff4bc78ec082bedeff5e1748cc))
* missing use imports ([03b0263](https://github.com/aasseman/indexer-rs/commit/03b0263308a1b0de6553b19b1bb15f165552ba35))
* only accept receipt signers with a non-zero balance ([9e84f5c](https://github.com/aasseman/indexer-rs/commit/9e84f5c0baf00a79d946be2a7b447a66a84e83ca))
* query processing for subgraph and network queries ([adf111b](https://github.com/aasseman/indexer-rs/commit/adf111ba266eb9856b05380f589452f33ebeffa3))
* Remove indexer management GraphQL API ([d749630](https://github.com/aasseman/indexer-rs/commit/d74963041ce2e047ab28b60ab1b69e3a06cda53d))
* remove irrelevant fields from deployment queries ([56b82ef](https://github.com/aasseman/indexer-rs/commit/56b82ef3f9200209f648dbe02f626c6f321df678))
* remove name label from QUERY_DURATION metrics ([086a00a](https://github.com/aasseman/indexer-rs/commit/086a00ae41badaa04e4ed829b4809b79f2460c96))
* resolve clippy errors introduced recently ([256831d](https://github.com/aasseman/indexer-rs/commit/256831df40aa8742b511e7777c55f58128eaa752))
* Robust URL joins in GraphNodeInstance ([12c47a2](https://github.com/aasseman/indexer-rs/commit/12c47a251bc9dde56d60488b0fcd65667e619cb1))
* **service:** avoid unnecessary error conversion ([b5eebce](https://github.com/aasseman/indexer-rs/commit/b5eebcea763c1cd76c0f8f118307375c483365ab))
* **service:** ms intervals treated as seconds ([#78](https://github.com/aasseman/indexer-rs/issues/78)) ([cae9f29](https://github.com/aasseman/indexer-rs/commit/cae9f296471b887792bac1ca909a48c2af53aa0e))
* share HTTP client between `DeploymentClient`s ([#87](https://github.com/aasseman/indexer-rs/issues/87)) ([b595cda](https://github.com/aasseman/indexer-rs/commit/b595cda678844c52e805be37cc8b75155e07d9ed))
* subgraph queries responses ([0c02b88](https://github.com/aasseman/indexer-rs/commit/0c02b88971474da1147ffd1ca8565fefbe2c9378))
* SubgraphDeploymentID hash conversions ([32475d2](https://github.com/aasseman/indexer-rs/commit/32475d2a12a4f9617a7994172cc83211ccc9c833))
* take deployment IPFS and hex for subg queries ([99c06ce](https://github.com/aasseman/indexer-rs/commit/99c06ce949822678bcd0647104ebf6c7fa9ae430))
* use IndexerError for cost server and provide .sqlx for CI ([3dd5387](https://github.com/aasseman/indexer-rs/commit/3dd5387dfce4fc02be99ba3a2ba69af5ca0315d7))
